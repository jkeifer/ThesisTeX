% *************** Colors ***************
\usepackage[usenames, dvipsnames]{color}
%\definecolor{bg}{rgb}{0.95,0.95,0.95} 
\definecolor{light-gray}{gray}{0.85}

% **************** Syntax Highlighting ******************
\usepackage{minted} %for code snippets; use \begin{minted}[mathescape, linenos, etc]{python}
\usemintedstyle{tango}


% ****************** For Figures and Graphics *******************
%\usepackage{fixltx2e}
%\usepackage{float}
\usepackage{graphicx}
\usepackage[justification=centering, labelfont=bf, compatibility=true]{caption} %caption package with centering, and can be 10pts, per thesis guidelines (REMOVED small command)
\usepackage{subcaption} %allows subfigure captions
%\captionsetup[sub]{font=footnotesize} %The subcaption settings
\captionsetup{compatibility=false} %To make caption package work
%\usepackage{cleveref} %Use \cref to add prefix to refs (i.e. Fig., Table, etc.)
%\usepackage{flafter} %Don't place floats until after refs


%************** NOTES *************
\usepackage{endnotes, chngcntr}
\counterwithin*{endnote}{chapter}  % Reset endnote numbering every new chapter

%To get chapters printed in endnotes
\makeatletter
\renewcommand\enoteheading{%
  \setcounter{secnumdepth}{-2}
  \chapter*{\notesname}
  \mbox{}\par\vskip-\baselineskip
  \let\@afterindentfalse\@afterindenttrue
}
\makeatother

\usepackage{xparse}

\let\latexchapter\chapter

\RenewDocumentCommand{\chapter}{som}{%
  \IfBooleanTF{#1}
    {\latexchapter*{#3}}
    {\IfNoValueTF{#2}
       {\latexchapter{#3}}
       {\latexchapter[#2]{#3}}%
     \addtoendnotes{%
       \noexpand\enotedivision{\noexpand\subsection*}
         {\chaptername\ \thechapter. \unexpanded{#3}}}%
    }%
}

\makeatletter
\def\enotedivision#1#2{\@ifnextchar\enotedivision{}{#1{#2}}}
\makeatletter

% Change \footnote to behave as \endnote
\let\footnote=\endnote

% Size of note to be same as rest of text
\renewcommand{\enotesize}{\normalsize}

% ***************** OTHERS *****************
\usepackage{varioref} 
\usepackage{times}
\usepackage{comment}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{ifthen}
\usepackage{multirow}
\usepackage{xspace}
\usepackage{url}
\urlstyle{sf}
\usepackage{makeidx}
\usepackage{needspace}
\usepackage{tabularx}
\usepackage{colortbl}

% lists
\usepackage{enumitem}
\setlist[description]{listparindent=\parindent, parsep=1\parsep}
%\setlist[enumerate]{}  % thought about setting vertical spacing, but gave up
%\setlist[itemize]{}

\usepackage{afterpage}
\usepackage{longtable}
\usepackage{lscape}
\usepackage{ulem}
\usepackage{epsfig}
\usepackage{amsthm}
\usepackage{booktabs}
\usepackage{stmaryrd}
\usepackage[figuresright]{rotating}
\usepackage{xltxtra} %Xeletex Package
\usepackage{fontspec} %Font package
\usepackage{xunicode} %Xeletex

\normalem %normal emphasis for package ulem
\vrefwarning %warnings, not errors, for vrefs for varioref package


% *************** TABLES *****************
\usepackage{siunitx}  % For SI units and S columns
\usepackage{tabu}
\usepackage{array}
\newcolumntype{Z}{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}X}

\newcolumntype{Y}{S[group-four-digits=true,  round-mode=places,  round-precision=2,  round-integer-to-decimal=true,per-mode=symbol]}

\tabucolumn{Z}
\tabucolumn{Y}

%To define \captionabove command for tables
\makeatletter
\newcommand{\captionabove}[2][]{%
    \vskip-\abovecaptionskip
    \vskip+\belowcaptionskip
    \ifx\@nnil#1\@nnil
        \caption{#2}%
    \else
        \caption[#1]{#2}%
    \fi
    \vskip+\abovecaptionskip
    \vskip-\belowcaptionskip
}
